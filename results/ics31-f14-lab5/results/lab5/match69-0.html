<HTML>
<HEAD>
<TITLE>arakij/(c,e,g,h)/</TITLE>
</HEAD>
<BODY BGCOLOR=white>
<HR>
arakij/(c,e,g,h)/<p><PRE>
&gt;&gt;&gt;&gt; file: lab5.py
#Jeffrey Araki 56679814 and James Hernandez 19727483. ICS 31 Lab sec 6.
#Part (c)
print('Part (c)')
#(c.1)
print('(c.1)')
from collections import namedtuple
Dish = namedtuple('Dish', 'name price calories')
d1 = Dish('Paht Woon Sen', 9.5, 330)
d2 = Dish('Enchilada', 10, 500)
d3 = Dish('Spaghetti', 8, 500)
#(c.2)
print('(c.2)')
def Dish_str(d: Dish) -&gt; str:
    '''returns a string with the attributes of the given dish'''
    return d.name + '(${:.2f}'.format(d.price) + '):' + str(d.calories) + ' cal'
assert Dish_str(d1) == 'Paht Woon Sen($9.50):330 cal'
assert Dish_str(d2) == 'Enchilada($10.00):500 cal'
assert Dish_str(d3) == 'Spaghetti($8.00):500 cal'
#(c.3)
print('(c.3)')
def Dish_same(d1: Dish, d2: Dish) -&gt; bool:
    '''returns whether or not the two given dishes
    have the same calorie count and name'''
    if d1.name == d2.name and d1.calories == d2.calories:
        return True
    return False
assert Dish_same(d2, d2)
assert not Dish_same(d1, d2)
assert not Dish_same(d2, d3)
assert not Dish_same(d2, Dish('Enchilada', 10, 400))
assert Dish_same(d2, Dish('Enchilada', 5, 500))
#(c.4)
print('(c.4)')
<A NAME="0"></A><FONT color = #FF0000><A HREF="match69-1.html#0" TARGET="1"><IMG SRC="../../bitmaps/tm_0_3.gif" ALT="other" BORDER="0" ALIGN=left></A>

def Dish_change_price(d: Dish, percent: float) -&gt; Dish:
    '''returns a new Dish with the same attributes as the given dish
    except for the price, which is changed by the given percent'''
    return Dish(d.name, d.price + d.price*(percent/100), d.calories)
</FONT>assert Dish_change_price(d1, -100) == Dish('Paht Woon Sen', 0, 330)
assert Dish_change_price(d2, 100) == Dish('Enchilada', 20, 500)
assert Dish_change_price(d3, -50) == Dish('Spaghetti', 4, 500)
#(c.5)
print('(c.5)')
<A NAME="3"></A><FONT color = #00FFFF><A HREF="match69-1.html#3" TARGET="1"><IMG SRC="../../bitmaps/tm_3_2.gif" ALT="other" BORDER="0" ALIGN=left></A>

def Dish_is_cheap(d: Dish, price: float) -&gt; bool:
    '''returns whether the price of the given dish is less
    than the given price'''
    return d.price &lt; price
</FONT>assert Dish_is_cheap(d1, 10)
assert not Dish_is_cheap(d2, 10)
assert Dish_is_cheap(d3, 10)
#(c.6)
print('(c.6)')
d4 = Dish('Lasagna', 11.50, 600)
DL = [d1, d2, d3, d4, Dish('Burger', 8.50, 700)]
print('The length of DL is', len(DL))
DL.sort()
DL.append(Dish('Hot Dog', 6.00, 400))
print('\nNames of the Dishes in DL:')
for d in DL:
    print(d.name)
DL2 = [d1, d2, d3, d4]
DL.extend(DL2)
print('\nDL2 extended to DL:')
for d in DL:
    print(d.name)

def Dishlist_display(l: 'list of Dish') -&gt; str:
    '''returns a string representation of
    the Dishes in the given list'''
    new = ''
    for d in l:
        new += Dish_str(d) + '\n'
    return new
#assert statement didn't work, but here is what Dishlist_Display(DL) prints
print('\nDishlist Display:')
print(Dishlist_display(DL))
#(c.7)
print('(c.7)')
<A NAME="1"></A><FONT color = #00FF00><A HREF="match69-1.html#1" TARGET="1"><IMG SRC="../../bitmaps/tm_1_3.gif" ALT="other" BORDER="0" ALIGN=left></A>

def Dishlist_all_cheap(l: 'list of Dish', price: float) -&gt; bool:
    '''returns whether all of the prices of the Dishes in
    the given list are less than the given price'''
    for d in l:
        if not Dish_is_cheap(d, price):
            return False
    return True
</FONT>assert Dishlist_all_cheap(DL, 12)
assert not Dishlist_all_cheap(DL2, 5)

#(c.8)
print('(c.8)')
<A NAME="4"></A><FONT color = #FF00FF><A HREF="match69-1.html#4" TARGET="1"><IMG SRC="../../bitmaps/tm_4_1.gif" ALT="other" BORDER="0" ALIGN=left></A>

def Dishlist_change_price(l: 'list of Dish', percent: float) -&gt; 'list of Dish':
    '''returns a new list of Dishes with the prices changed
    by the given percentages'''
    new = []
    for d in l:
        new.append(Dish_change_price(d, percent))
</FONT>    return new
print('Prices before:')
for d in DL:
    print(d.price)
print('Prices after:')
for d in Dishlist_change_price(DL, 300):
    print(d.price)
#(c.9)
print('(c.9)')
def Dishlist_prices(l: 'list of Dish') -&gt; 'list of float':
    '''returns a list containing just the prices of the dishes'''
    new = []
    for d in l:
        new.append(d.price)
    return new
assert Dishlist_prices(DL) == [8.5, 10, 11.5, 9.5, 8, 6.0, 9.5, 10, 8, 11.5]
#(c.10)
print('(c.10)')
def Dishlist_average(l: 'list of Dish') -&gt; float:
    '''returns the average prices of the Dishes in the given list'''
    total = 0
    for d in Dishlist_prices(l):
        total += d
    return total/len(l)
assert Dishlist_average(DL) == 9.25
#(c.11)
print('(c.11)')
def Dishlist_keep_cheap(l: 'list of Dish', price: float) -&gt; 'list of Dish':
    '''returns a new list of Dishes that are
    cheaper than the given price'''
    new = []
    for d in l:
        if Dish_is_cheap(d, price):
            new.append(d)
    return new
assert Dishlist_keep_cheap(DL, 9) == [Dish('Burger', 8.50, 700),
                                      Dish('Spaghetti', 8, 500),
                                      Dish('Hot Dog', 6.00, 400),
                                      Dish('Spaghetti', 8, 500)]
#(c.12)
print('(c.12)')
DL25 = []
for d in range(25):
    DL25.append(Dish('Dish' + str(d), d + 10, d*100))
def before_and_after():
    '''prompts the user for a percentage, then prints the result of
    Dishlist_display on DL25, then changes the price of
    DL25 and prints Dishlist_display of DL25 again'''
    percent = input('Enter percentage: ')
    print('Before: ')
    print(Dishlist_display(DL25), '\n')
    print('After: ')
    print(Dishlist_display(Dishlist_change_price(DL25, float(percent))))
#before_and_after()
#Part (e)
print('Part (e)')
#(e.1)
print('(e.1)')
Restaurant = namedtuple('Restaurant', 'name cuisine phone menu')
r1 = Restaurant('Thai Dishes', 'Thai', '334-4433', [Dish('Mee Krob', 12.50, 500),
                                                    Dish('Larb Gai', 11.00, 450)])
r2 = Restaurant('Taillevent', 'French', '01-44-95-15-01', 
				[Dish('Homard Bleu', 45.00, 750),
				 Dish('Tournedos Rossini', 65.00, 950),
				 Dish("Selle d'Agneau", 60.00, 850)])
r3 = Restaurant('Pascal', 'French', '940-752-0107', [Dish('Escargo', 12.95, 250),
                                                     Dish('Poached Salmon', 18.50, 550),
                                                     Dish('Rack of Lamb', 24.00, 850),
                                                     Dish('Marjolaine Cake', 8.50, 950)])
#(e.2)
print('(e.2)')
def Restaurant_first_dish_name(r: Restaurant) -&gt; str:
    '''Returns the name of the first dish in a given Restaurant'''
    return r.menu[0].name
assert Restaurant_first_dish_name(r1) == 'Mee Krob'
assert Restaurant_first_dish_name(r2) == 'Homard Bleu'
#(e.3)
print('(e.3)')
def Restaurant_is_cheap(r: Restaurant, price: float) -&gt; bool:
    '''Returns whether or not the given Restaurant's Dishes
    are cheaper than the given price'''
    if Dishlist_average(r.menu) &lt;= price:
        return True
    return False
assert Restaurant_is_cheap(r3, 25)
assert not Restaurant_is_cheap(r1, 11) 
#(e.4)
print('(e.4)')
C = [r1, r2, r3]
<A NAME="5"></A><FONT color = #FF0000><A HREF="match69-1.html#5" TARGET="1"><IMG SRC="../../bitmaps/tm_0_1.gif" ALT="other" BORDER="0" ALIGN=left></A>

def Dish_raise_prices(d: Dish, price:float) -&gt; list:
    """ Return list of Restaurants with the prices
    changed by the give percentage. """
    return Dish(d.name, d.price + price, d.calories)
</FONT><A NAME="2"></A><FONT color = #0000FF><A HREF="match69-1.html#2" TARGET="1"><IMG SRC="../../bitmaps/tm_2_2.gif" ALT="other" BORDER="0" ALIGN=left></A>

def Menu_raise_prices(r: Restaurant, price:float) -&gt; list:
    """ Return list of Dishes with the prices
    changed by the given percentage. """
    result = []
    for m in r.menu:
        result.append(Dish_raise_prices(m, price))
</FONT>    return result
def Collection_raise_prices(C: list, price:float) -&gt; list:
    """ Return list of Restaurants with the prices
    changed by the given price. """
    result = []
    for r in C:
        result.append(Restaurant(r.name, r.cuisine, r.phone, Menu_raise_prices(r, price)))
    return result
def Collection_str(C: list) -&gt; str:
    ''' Return a string representing the collection
    '''
    s = ""
    for r in C:
        s = s + Restaurant_str(r)
    return s
def Restaurant_str(self: Restaurant) -&gt; str:
    return (
        "Name:     " + self.name + "\n" +
        "Cuisine:  " + self.cuisine + "\n" +
        "Phone:    " + self.phone + "\n" +
        "Menu:     " + str(self.menu) + "\n\n")
print('Dishlist_raise_prices:')
print(Collection_str(Collection_raise_prices(C, 2.5)))
def Menu_change_price(r: Restaurant, percent:float) -&gt; list:
    """ Return list of Dishes with the prices
    changed by the given percentage. """
    return Dishlist_change_price(r.menu, percent)
def Collection_change_price(C: list, percent:float) -&gt; list:
    """ Return list of Restaurants with the prices
    changed by the given percentage. """
    result = []
    for r in C:
        result.append(Restaurant(r.name, r.cuisine, r.phone, Menu_change_price(r, percent)))
    return result
print('Dishlist_change_price:')
print(Collection_str(Collection_change_price(C, 100)))
#(e.5)
print('(e.5)')
def Collection_select_cheap(C: list, price: float) -&gt; list:
    """ Return list of Restaurants that are cheaper on average than the given price """
    new = []
    for r in C:
        if Dishlist_average(r.menu) &lt;= price:
            new.append(r)
    return new
assert Collection_select_cheap(C, 100) == [Restaurant(name='Thai Dishes', cuisine='Thai', phone='334-4433', menu=[Dish(name='Mee Krob', price=12.5, calories=500), Dish(name='Larb Gai', price=11.0, calories=450)]), Restaurant(name='Taillevent', cuisine='French', phone='01-44-95-15-01', menu=[Dish(name='Homard Bleu', price=45.0, calories=750), Dish(name='Tournedos Rossini', price=65.0, calories=950), Dish(name="Selle d'Agneau", price=60.0, calories=850)]), Restaurant(name='Pascal', cuisine='French', phone='940-752-0107', menu=[Dish(name='Escargo', price=12.95, calories=250), Dish(name='Poached Salmon', price=18.5, calories=550), Dish(name='Rack of Lamb', price=24.0, calories=850), Dish(name='Marjolaine Cake', price=8.5, calories=950)])]
assert Collection_select_cheap(C, 10) == []

#Part (g)
print('Part (g)')
Count = namedtuple('Count', 'letter number')
def letter_count(s1: str, s2: str) -&gt; 'list of Count':
    '''returns a list of the Count of each character
    in the second given string from the first given string'''
    new = []
    for letter in s2:
        count = 0;
        for l in s1:
            if l == letter:
                count += 1
        new.append(Count(letter, count))
    return new
assert letter_count('The cabbage has baggage', 'abcd') == [Count(letter='a',number=5), Count(letter='b',number=3), Count(letter='c',number=1), Count(letter='d',number=0)]
assert letter_count('ICS 31 labs are fun', 'aeiou') == [Count(letter='a',number=2), Count(letter='e',number=1), Count(letter='i',number=0), Count(letter='o',number=0), Count(letter='u',number=1)] 
assert letter_count('Computer Science', 'E') == [Count(letter='E',number=0)] 
</PRE>
</PRE>
</BODY>
</HTML>
