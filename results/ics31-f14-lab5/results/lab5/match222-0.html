<HTML>
<HEAD>
<TITLE>horiuchm/(c,e,g,h)/</TITLE>
</HEAD>
<BODY BGCOLOR=white>
<HR>
horiuchm/(c,e,g,h)/<p><PRE>
&gt;&gt;&gt;&gt; file: lab5.py
#  Moriya Horiuchi 80901022 and Brenden Mize 59958516.  ICS 31 Lab sec 15.  Lab asst 5.
#
#
# part (c)
#
#
from collections import namedtuple
import math

#
#c.1
#
Dish = namedtuple('Dish','name price calories')
d1 = Dish('Hamburger',5.20,350)
d2 = Dish('Spinach Salad', 7.80, 150)
d3 = Dish('Corn Soup',6.80,80)
d4 = Dish('Hamburger',6.00,350)
d5 = Dish('Steak', 25.00,850)
d6 = Dish('Rice',2.00,100)
d7 = Dish('Scrambled Egg',8.50,180)
d8 = Dish('Miso Soup',3.20,80)
d9 = Dish('Grilled Salmon',9.80,250)
d10 = Dish('Sushi', 18.00,260)
d11 = Dish('Pasta', 15.00,300)
d12 = Dish('Burrito',8.00,230)
d13 = Dish('Chocolate Cake', 4.00,150)
d14 = Dish('Apple Pie',7.8,280)
d15 = Dish('Fried Rice',12.8,350)
d16 = Dish('Fried Chicken',10.8,600)
d17 = Dish('French-Fry', 5.5, 120)
d18 = Dish('House Salad',4.80,100)
d19 = Dish('Ice Cream', 2.50,150)
d20 = Dish('Ra-men',11.50,110)
d21 = Dish('Pizza',8.80,220)
d22 = Dish('Udon',10.80,250)
d23 = Dish('Soba',10.80,180)
d24 = Dish('Pudding',4.00,150)
d25 = Dish('Grilled Chicken',15.00,550)

#
#c.2
#
def Dish_str(dl :Dish)-&gt;str:
    ## takes a Dish and returns a string
    dish_str = str(dl.name)+" (${:2.2f}".format(dl.price)+'): '+str(dl.calories)+' cal'
    return dish_str

print(Dish_str(d1))

#
#c.3
#
def Dish_same(dish_1:Dish,dish_2:Dish):
    ## returns True if the names of the two dishes and their calorie counts are equal
    return ((dish_1.name == dish_2.name) and (dish_1.calories == dish_2.calories))

assert Dish_same(d1,d4)
<A NAME="0"></A><FONT color = #FF0000><A HREF="match222-1.html#0" TARGET="1"><IMG SRC="../../bitmaps/tm_0_6.gif" ALT="other" BORDER="0" ALIGN=left></A>

assert not Dish_same(d1,d2)

#
#c.4
#
def Dish_change_price(dish:Dish,num:int)-&gt;Dish:
    ## returns a Dish that's the same as the parameter except that its price is changed
    after_price = dish.price * (1+(num/100))
    dish = dish._replace(price = round(after_price,2))
    return dish

print(Dish_change_price(d1,30))

#
#c.5
#
def Dish_is_cheap(dish:Dish,num:float)-&gt;bool:
    ## returns True if the Dish's price is less than that number
    return(dish.price&lt;num)

assert Dish_is_cheap(d1,10)
</FONT>assert not Dish_is_cheap(d1,3.2)

#
#c.6
#
DL = [d1,d2,d3,d4,d5]
print('&lt;Original DL&gt;')
print(DL)
print('Length of DL:',len(DL))
print('&lt;Sort DL in alphabetically by name&gt;')
DL.sort()
print(DL)

def price_order(dish_L:Dish):
    return dish_L.price

print('&lt;Sort DL by price&gt;')
DL.sort(key=price_order)
print(DL)

def Dishlist_display(dish_L:Dish)-&gt;str:
    # return strings
    dish_str=''
    for d in dish_L:
        dish_str += Dish_str(d) +'\n'
    return dish_str

print(Dishlist_display(DL))
        
#
#c.7
#
def Dishlist_all_cheap(dish_L:Dish,num:float)-&gt;bool:
    f=0 #count number of false
    for d in dish_L:
        if not Dish_is_cheap(d,num):
            f += 1
    
    if f==0:
        return True
    else:
        return False
    
print(Dishlist_all_cheap(DL,30))

#
#c.8
#
def Dishlist_change_price(dish_L:Dish,num:int)-&gt;list:
    ##  takes a list of Dishes and a number representing a percentage change and returns a list of Dishes with each price changed by the specified amount
    L =[]
<A NAME="2"></A><FONT color = #0000FF><A HREF="match222-1.html#2" TARGET="1"><IMG SRC="../../bitmaps/tm_2_3.gif" ALT="other" BORDER="0" ALIGN=left></A>

    for x in dish_L:
        L.append(Dish_change_price(x,num))
    return L
print(Dishlist_change_price(DL,100))

#
#c.9
#
def Dishlist_prices(dish_L:Dish)-&gt;list:
    ##takes a list of Dishes and returns a list of numbers containing just the prices of the dishes on that list
    L = []
    for x in dish_L:
        L.append(x.price)
</FONT>    return L
print (Dishlist_prices(DL))

#
#c.10
#
def Dishlist_average(dish_L:Dish)-&gt;float:
    ## takes a list of Dishes and returns the average price of those dishes
    return sum(Dishlist_prices(dish_L))/len(dish_L)

print(Dishlist_average(DL))
#
#c.11
#
def Dishlist_keep_cheap(dish_L:Dish,num:float)-&gt;list:
    ##takes a list of Dishes and a number and returns a list of those dishes on the original list that have prices less than that number.
    L =[]
    for x in dish_L:
        if Dish_is_cheap(x,num):
            L.append(x)
    return L

print(Dishlist_keep_cheap(DL,7))

#
#c.12
#
DL2 = [d1,d2,d3,d4,d5,d6,d7,d8,d9,d10,
       d11,d12,d13,d14,d15,d16,d17,d18,d19,d20,
       d21,d22,d23,d24,d25]

def before_and_after():
    L = Dishlist_change_price(DL2,int(input('Please enter a percentage change in price: ')))
    print('&lt;Before&gt;')
    print(Dishlist_display(DL2))
    print('&lt;After&gt;')
    print(Dishlist_display(L))

before_and_after()

#
#
# part (e)
#
#
Restaurant = namedtuple('Restaurant', 'name cuisine phone menu')
r1 = Restaurant('Thai Dishes', 'Thai', '334-4433', [Dish('Mee Krob', 12.50, 500),
                                                    Dish('Larb Gai', 11.00, 450)])
r2 = Restaurant('Taillevent', 'French', '01-44-95-15-01', 
				[Dish('Homard Bleu', 45.00, 750),
				 Dish('Tournedos Rossini', 65.00, 950),
				 Dish("Selle d'Agneau", 60.00, 850)])	

#
#e.1
#
r3 = Restaurant('Pascal','French','940-752-0107',[Dish('Escargots',12.95,250),
<A NAME="1"></A><FONT color = #00FF00><A HREF="match222-1.html#1" TARGET="1"><IMG SRC="../../bitmaps/tm_1_3.gif" ALT="other" BORDER="0" ALIGN=left></A>

                                                  Dish('Poached Salmon',18.5,550),
                                                  Dish('Rack of Lamb',24.00,850),
                                                  Dish('Marjolaine Cake',8.5,950)])

#
#e.2
#
def Restaurant_first_dish_name(res:Restaurant)-&gt;str:
    ## takes a Restaurant as its argument and returns the name of the first dish on the restaurant's menu
    return res.menu[0].name
assert Restaurant_first_dish_name(r1) =='Mee Krob'
</FONT>
#
#e.3
#
def Restaurant_is_cheap(res:Restaurant,num:float)-&gt;bool:
    ##takes Restaurant and a number, and returns True if the average price of the Restaurant's menu is less than or equal to the number
    return (Dishlist_average(res.menu)&lt;=num)
assert Restaurant_is_cheap(r1,20)
assert not Restaurant_is_cheap(r1,10)

#
#e.4
#
RL = [r1,r2,r3]
def Dish_raise_prices(d: Dish):
    ## takes Dish and return raised price by 2.50
    d = d._replace(price = d.price + 2.5)
    return d
    
def Menu_raise_prices(d: Dish)-&gt;Dish:
    ##takes menu return list of Dish with price raised by 2.50
    L =[]
    for x in d:
        x = Dish_raise_prices(x)
        L.append(x)
    return L
        
def Collection_raise_prices(r: Restaurant):
    ## takes Restaurant and return list of Restaurant with price raised by 2.5
    L =[]
    for x in r:
        x = x._replace(menu = Menu_raise_prices(x.menu))
        L.append(x)
<A NAME="3"></A><FONT color = #00FFFF><A HREF="match222-1.html#3" TARGET="1"><IMG SRC="../../bitmaps/tm_3_2.gif" ALT="other" BORDER="0" ALIGN=left></A>

    return L
print(Collection_raise_prices(RL))
        
#
#e.5
#
def Collection_select_cheap(r:Restaurant,num:float)-&gt;list:
    ##takes a Collection and a number and returns a list of all the Restaurants in the collection whose average price is less than or equal to that number
    L=[]
    for x in r:
</FONT>        if (Restaurant_is_cheap(x,num)):
            L.append(x)
    return L
assert Collection_select_cheap(RL,13) == [r1]
            
            

#
#
#part (g)
#
#


Count = namedtuple('Count','letter number')
def letter_count(s:str,s2:str)-&gt;Count:
    ## return its counts as a list of Count namedtuples, where a Count namedtuple has two fields, letter and number
    L=[]
    for x in s2:
        c = s.count(x)
        L.append(Count(x,c))   
    return L
assert letter_count('The cabbage has baggage', 'abcd') ==[Count(letter='a',number=5), Count(letter='b',number=3), Count(letter='c',number=1), Count(letter='d',number=0)]

some_message = 'aabbccdd '
print(letter_count(some_message,'abce'))
print(letter_count(some_message, ' \t\n'))
 
</PRE>
</PRE>
</BODY>
</HTML>
