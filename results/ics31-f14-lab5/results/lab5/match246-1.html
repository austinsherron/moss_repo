<HTML>
<HEAD>
<TITLE>gagek/(c,e,g,h)/</TITLE>
</HEAD>
<BODY BGCOLOR=white>
<HR>
oharlev/(c,e,g,h)/<p><PRE>
&gt;&gt;&gt;&gt; file: lab5.py
#Ofri Harlev 78113877  , Crystal Guan 20545425 ICS 31 Lab sec 11. Lab asst 5.

#
#
#C.1
#
#
print('-------------------------C.1------------------------')
print('Created 5 Dishes')
from collections import namedtuple
Dish = namedtuple('Dish', 'name price calories')
d1=Dish('Apple', 1 ,1)
d2=Dish('Mango', 1 ,1)
d3=Dish('Apple', 5 ,1)
d4=Dish('Lemon', 5 ,1)
d5=Dish('Durian', 5 ,1)
#
#
#C.2
#
#
def Dish_str(dish:Dish)-&gt;str:
    '''Returns printout of all atributes of dish'''
    return dish.name+' ($'+str(dish.price)+') : '+str(dish.calories)+' cal'
print('-------------------------C.2------------------------')
print( Dish_str(d1))
#
#
#C.3
#
#

def Dish_same(dish1:Dish , dish2:Dish)-&gt;bool:
    '''Returns if both name of dish and calories are the same'''
    return dish1.calories==dish2.calories and dish1.name==dish2.name
assert Dish_same(d1,d2)==False
assert Dish_same(d1,d1)==True
assert Dish_same(d1,d3)==True
print('-------------------------C.3------------------------')
print( Dish_same(d1,d2))
print( Dish_same(d1,d1))
print( Dish_same(d1,d3))
#
#
#C.4
#
#

def Dish_change_price(dish:Dish , percentage:float)-&gt;Dish:
    '''Changes the price of dish by precentage given'''
    newDish=dish._replace(price=dish.price+(dish.price*percentage/100))
    return newDish
assert Dish_change_price(d1,100)==d1._replace(price=2)
assert Dish_change_price(d1,-50)==d1._replace(price=.5)
print('-------------------------C.4------------------------')
print(Dish_change_price(d1,100))      
print( Dish_change_price(d1,-50))


#
#
#C.5
#
#
def Dish_is_cheap(dish:Dish , price:float)-&gt;bool:
    '''Return dish is cheaper than price'''
    return dish.price&lt;price
assert Dish_is_cheap(d1,0)==False
assert Dish_is_cheap(d1,5)==True
assert Dish_is_cheap(d1,1)==False
print('-------------------------C.5------------------------')
print(Dish_is_cheap(d1,0))
print(Dish_is_cheap(d1,5))
print(Dish_is_cheap(d1,1))
#
#
#C.6
#
#
DL=[d1,d2,d3,d4,d5]
<A NAME="0"></A><FONT color = #FF0000><A HREF="match246-0.html#0" TARGET="0"><IMG SRC="../../bitmaps/tm_0_2.gif" ALT="other" BORDER="0" ALIGN=left></A>

DL2=[d1,d2,d3,d4]
DL.extend(DL2)

def Dishlist_display (dishes:[Dish])-&gt;str:
    '''Returns all dishes in list as strings'''
    output=''
    for dish in dishes:
        output+= Dish_str(dish)+'\n'
    return output
</FONT>print('-------------------------C.6-------------------------')
print (Dishlist_display(DL))

#
#
#C.7
#
#

def Dish_list_all_cheap (dishes:[Dish], price:float)-&gt;bool:
    '''Returns True if all dishes are cheaper than price'''
    for dish in dishes:
        if not Dish_is_cheap(dish,price):
            return False
    return True

assert Dish_list_all_cheap(DL,100) == True
assert Dish_list_all_cheap(DL,0) == False
print('-------------------------C.7-------------------------')
print(Dish_list_all_cheap(DL,100))
print(Dish_list_all_cheap(DL,0))

#
#
#C.8
#
#

def Dishlist_change_price(dishes:[Dish], percentage:float)-&gt;[Dish]:
    '''Changes the price by percentage of each individual dishes'''
    output=[]
    for dish in dishes:
        output.append(Dish_change_price(dish,percentage))
    return output
print('-------------------------C.8-------------------------')
print(Dishlist_change_price(DL,15))


#
#
#C.9
#
#

<A NAME="4"></A><FONT color = #FF00FF><A HREF="match246-0.html#4" TARGET="0"><IMG SRC="../../bitmaps/tm_4_1.gif" ALT="other" BORDER="0" ALIGN=left></A>

def Dishlist_prices(dishes:[Dish])-&gt;[float]:
    '''Returns the prices of the dishes'''
    output=[]
    for dish in dishes:
        output.append(dish.price)
    return output
</FONT>print('-------------------------C.9----------------------------')
print(Dishlist_prices(DL))

#
#
#C.10
#
#

def Dishlist_average(dishes:[Dish])-&gt;float:
    '''Returns the average price of all dishes'''
    if len(dishes) != 0:
        return sum(Dishlist_prices(dishes))/len(dishes)
    return 0

print('-------------------------C.10-------------------------')
print (Dishlist_average(DL))

#
#
#C.11
#
#

<A NAME="3"></A><FONT color = #00FFFF><A HREF="match246-0.html#3" TARGET="0"><IMG SRC="../../bitmaps/tm_3_2.gif" ALT="other" BORDER="0" ALIGN=left></A>

def Dishlist_keep_cheap(dishes:[Dish], price:float)-&gt;[Dish]:
    '''Returns a list of dishes that are cheaper than the price'''
    output=[]
    for dish in dishes:
        if Dish_is_cheap(dish,price):
            output.append(dish)
</FONT>    return output
print('-------------------------C.11-------------------------')
print(Dishlist_keep_cheap(DL,100))
#
#
#C.12
#
#

DL3 = [
    d1,
    d2,
    d3,
    d4,
    d5,
    Dish('Banana',10,1),
    Dish('Watermelon',12,1),
    Dish('Kiwi',5,1),
    Dish('Strawberry',8,1),
    Dish('Orange',5,1),
    Dish('Sushi',9,1),
    Dish('Rice',11,1),
    Dish('Fried Chicken',9,1),
    Dish('Taco',1,1),
    Dish('Pizza',6,1),
    Dish('Yogurt',2,1),
    Dish('Steak',15,1),
    Dish('Gnocchi',4,1),
    Dish('Tiramisu',20,1),
    Dish('Coffee',2,1),
    Dish('Flan',5,1),
    Dish('Chili',1,1),
    Dish('Pie',3.14159265,1),
    Dish('Ice Cream',9,1),
    Dish('Jello',5,1) ]

def before_and_after()-&gt;None:
    percentage = float(input("What is the price percentage you want to change "))
    print(Dishlist_display(DL3))
    print(Dishlist_display(Dishlist_change_price(DL3,percentage)))
print('-------------------------C.12-------------------------')
before_and_after()

#
#
#E.1
#
#

Restaurant = namedtuple('Restaurant', 'name cuisine phone menu')
r1 = Restaurant('Thai Dishes', 'Thai', '334-4433', [Dish('Mee Krob', 12.50, 500),
                                                    Dish('Larb Gai', 11.00, 450)])
r2 = Restaurant('Taillevent', 'French', '01-44-95-15-01', 
				[Dish('Homard Bleu', 45.00, 750),
				 Dish('Tournedos Rossini', 65.00, 950),
				 Dish("Selle d'Agneau", 60.00, 850)])				  
r3 = Restaurant('Pascal', 'French', '940-752-0107', [Dish('Escargots', 12.95, 250),
                                                    Dish('Poached Salmon', 18.50, 550),
                                                     Dish('Rack of Lamb', 24.00, 850),
                                                     Dish('Marjolaine Cake', 8.50, 950)])
r4 = Restaurant('resturant4', 'French', '911', [])
print('-------------------------E.1-------------------------')
print(r3)

#
#
#E.2
#
#

def Restaurant_first_dish(rest: Restaurant) -&gt; str:
    '''Returns the name of the first dish on the restaurant's menu'''
    if len(rest.menu) &gt; 0:
        return rest.menu[0].name
    return ''

assert Restaurant_first_dish(r1) == 'Mee Krob'
assert Restaurant_first_dish(r2) == 'Homard Bleu'
assert Restaurant_first_dish(r4) == ''
print('-------------------------E.2-------------------------')
print (Restaurant_first_dish(r1))
print (Restaurant_first_dish(r2))
print (Restaurant_first_dish(r4))

#
#
#E.3
#
#

def Restaurant_is_cheap(rest: Restaurant, price: float) -&gt; bool:
    '''Returns True if the average price of a restaurant's menu is &lt;= a number'''
    return Dishlist_average(rest.menu) &lt;= price

assert Restaurant_is_cheap(r3, 10) == False
assert Restaurant_is_cheap(r3, 5000) == True
assert Restaurant_is_cheap(r4, 1) == True
print('-------------------------E.3-------------------------')
print(Restaurant_is_cheap(r3,10))
print(Restaurant_is_cheap(r3, 5000))
print(Restaurant_is_cheap(r4, 1))

#
#
#E.4
#
#
    
def Collection_raise_prices(C: [Restaurant], price: float) -&gt; [Restaurant]:
    '''Return the collection with the price of all dishes in the collection raised
    by given price'''
    result = []
    for rest in C:
        result.append(Restaurant_raise_prices(rest, price))
    return result

<A NAME="1"></A><FONT color = #00FF00><A HREF="match246-0.html#1" TARGET="0"><IMG SRC="../../bitmaps/tm_1_2.gif" ALT="other" BORDER="0" ALIGN=left></A>

def Restaurant_raise_prices(rest: Restaurant, price: float) -&gt; Restaurant:
    '''Returns restaurant with price modified by given price'''
    newRestaurant = rest._replace(menu=Menu_raise_prices(rest.menu, price))
    return newRestaurant

def Menu_raise_prices(menu: [Dish], price: float) -&gt; [Dish]:
</FONT>    '''Returns menu with price modified by given price'''
    result = []
    for dish in menu:
        result.append(Dish_raise_price(dish, price))
    return result

def Dish_raise_price(dish: Dish, price: float) -&gt; Dish:
    '''Returns dish with price modified by given price'''
    newDish = dish._replace(price=dish.price + price)
    return newDish

assert Dish_raise_price(r3.menu[0],15) == r3.menu[0]._replace(price=r3.menu[0].price + 15)
assert Dish_raise_price(r2.menu[1],0) == r2.menu[1]._replace(price=r2.menu[1].price)

def Collection_change_price(C: [Restaurant], percentage: float) -&gt; [Restaurant]:
    '''Returns the collection with the price changed by given percentage'''
    result = []
    for rest in C:
        result.append(Restaurant_change_price(rest, percentage))
    return result

def Restaurant_change_price(rest: Restaurant, percentage: float) -&gt; Restaurant:
    '''Returns restaurant with the price changed by given percentage'''
    newRestaurant = rest._replace(menu=Dishlist_change_price(rest.menu, percentage))
    return newRestaurant
print('-------------------------E.4-------------------------')
print(Collection_raise_prices([r1,r2,r3,r4],15.50))
print(Collection_change_price([r1,r2,r3,r4],-50))

#
#
#E.5
#
#

def Collection_select_cheap(C: [Restaurant], price: float) -&gt; [Restaurant]:
    '''Returns a list of all Restaurants whose average price is &lt;= the given number'''
    result = []
    for rest in C:
        if Dishlist_average(rest.menu) &lt;= price:
           result.append(rest)
    return result
print('-------------------------E.5-------------------------')
print(Collection_select_cheap([r1,r2,r3,r4],20))

#
#
#G
#
#

<A NAME="2"></A><FONT color = #0000FF><A HREF="match246-0.html#2" TARGET="0"><IMG SRC="../../bitmaps/tm_2_2.gif" ALT="other" BORDER="0" ALIGN=left></A>

Count = namedtuple('Count', 'letter number')
def letter_count(word: str, letters: str) -&gt; [Count]:
    '''Returns the counts of certain letters in the word'''
    result = []
    for char in letters:
        result.append(Count(char, char_in_str(word, char)))
</FONT>    return result

def char_in_str(word: str, letter: str) -&gt; int:
    '''Returns how many times a letter appears in a word'''
    counter=0
    for char in word:
        if char in ['\n', '   '] and letter == ' ':
            counter += 1
        elif char == letter:
            counter += 1
    return counter
print('-------------------------G-------------------------')
print(letter_count('abcabc \n   ', 'ac '))  
print(letter_count('Anteater', 'Aae'))
print(letter_count('', ' abcdefghijklmnopqrstuvwxyz!'))

</PRE>
</PRE>
</BODY>
</HTML>
