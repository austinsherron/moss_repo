//angular.module('app', [])
//  .controller('getData', ['$scope', '$http', function($scope, $http) {
//    $scope.user    = {};
//    $scope.results = [];
//
//    $scope.search = function(url) {
//      $http.get(url, { params: user },
//        function(response) { $scope.results = response; },
//        function(failure) { console.log("failed :(", failure); });
//    });
//  });


var app = angular.module('app', []);


////////////////////////////////////////////////////////////////////////////////
// Controllers /////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////


app.controller('getData', function($scope, $http) {

	$scope.filter = function(filters) {
		$http.get("src/api.php?filters=" + JSON.stringify(filters)).then(function(response) {
			$scope.results = response.data;

		}, function(failure) {
			console.log(failure);
		});
	};

	$scope.reset = function() {
		$scope.filters = {};

		$http.get("src/api.php?start=true").then(function(response) {
			$scope.results = response.data.results;
			$scope.courses = response.data.courses;
			$scope.quarters = response.data.quarters;

		}, function(failure) {
			console.log(failure);
		});
	};

	$scope.reset();

});


////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////
// Filters /////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////


app.filter('capitalize', function() {
    return function(input) {
      return (!!input) ? input.charAt(0).toUpperCase() + input.substr(1).toLowerCase() : '';
    }
});


app.filter('date', function() {
	return function(input) {
		return new Date();
	}
});


////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
